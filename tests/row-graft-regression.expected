
Desugared:

	(Lam
	 (f
	  (Lam
	   (arg
	    (App
	     ((App ((Update y) (Var arg)))
	      (App ((Var f) (App ((GetField (Strict z)) (Var arg)))))))))))

inferred type:

	(Quant
	 (() All a Unknown
	  (Quant
	   (() All b Unknown
	    (Quant
	     (() All c Unknown
	      (Quant
	       (() All d Unknown
	        (Fn
	         (() (Fn (() (Var (() c)) (Var (() a))))
	          (Fn
	           (()
	            (Record (r_info ()) (r_types (() () (d)))
	             (r_values (() ((z (Var (() c)))) (b))))
	            (Record (r_info ()) (r_types (() () (d)))
	             (r_values (() ((y (Var (() a))) (z (Var (() c)))) (b))))))))))))))))

Runtime term:

	(Lam
	 (1 ()
	  (Lam
	   (1 ()
	    (App
	     ((App
	       ((Lam
	         (0 () (Lam (1 () (Update (old (Var 1)) (label y) (field (Var 0)))))))
	        (Var 0)))
	      (App ((Var 1) (App ((GetField (Strict z)) (Var 0)))))))))))

Evaluated:

	(Lam
	 (0 ()
	  (Lam
	   (1 ()
	    (App
	     ((App
	       ((Lam
	         (0 () (Lam (1 () (Update (old (Var 1)) (label y) (field (Var 0)))))))
	        (Var 0)))
	      (App ((Var 1) (App ((GetField (Strict z)) (Var 0)))))))))))
