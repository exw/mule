
Desugared:

	(Let
	 (f
	  (App ((Fix Let) (Lam (f (Lam (x (App ((GetField (Strict y)) (Var x)))))))))
	  (App
	   ((Fix Record)
	    (Lam
	     ($0
	      (App
	       ((App
	         ((Update a)
	          (App
	           ((App ((Update b) EmptyRecord))
	            (App
	             ((Var f)
	              (App
	               ((Fix Record)
	                (Lam
	                 ($2
	                  (App
	                   ((App ((Update y) EmptyRecord))
	                    (App
	                     ((Fix Record)
	                      (Lam
	                       ($3
	                        (App ((App ((Update z) EmptyRecord)) EmptyRecord))))))))))))))))))
	        (App
	         ((Var f)
	          (App
	           ((Fix Record)
	            (Lam ($1 (App ((App ((Update y) EmptyRecord)) EmptyRecord))))))))))))))))

inferred type:

	(Quant
	 (() All a Unknown
	  (Quant
	   (() All b Unknown
	    (Quant
	     (() All c Unknown
	      (Quant
	       (() All d Unknown
	        (Record (r_info ()) (r_types (() () (d)))
	         (r_values
	          (()
	           ((a
	             (Record (r_info ()) (r_types (() () (c))) (r_values (() () ()))))
	            (b
	             (Record (r_info ()) (r_types (() () (b)))
	              (r_values
	               (()
	                ((z
	                  (Record (r_info ()) (r_types (() () (a)))
	                   (r_values (() () ())))))
	                ())))))
	           ())))))))))))

Runtime term:

	(App
	 ((Lam
	   (0 ()
	    (App
	     ((Fix Record)
	      (Lam
	       (1 ()
	        (Record
	         ((a
	           (App
	            ((Var 1)
	             (App ((Fix Record) (Lam (0 () (Record ((y (Record ())))))))))))
	          (b
	           (App
	            ((Var 1)
	             (App
	              ((Fix Record)
	               (Lam
	                (0 ()
	                 (Record
	                  ((y
	                    (App
	                     ((Fix Record) (Lam (0 () (Record ((z (Record ()))))))))))))))))))))))))))
	  (App
	   ((Fix Let)
	    (Lam (0 () (Lam (0 () (App ((GetField (Strict y)) (Var 0)))))))))))

Evaluated:

	(Record ((a (Record ())) (b (Record ((z (Record ())))))))
