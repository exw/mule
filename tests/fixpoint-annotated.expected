
Desugared:

	(Let
	 (fix
	  (App
	   ((Fix Let)
	    (Lam
	     (fix
	      (App
	       ((WithType
	         (Quant
	          (() All a
	           (Quant
	            (() All b
	             (Fn
	              (()
	               (Fn
	                (() (Fn (() (Var (() a)) (Var (() b))))
	                 (Fn (() (Var (() a)) (Var (() b))))))
	               (Fn (() (Var (() a)) (Var (() b)))))))))))
	        (Lam
	         (f
	          (Let
	           (g
	            (App
	             ((Fix Let)
	              (Lam
	               (g
	                (Lam
	                 (x
	                  (App
	                   ((Var f)
	                    (Lam (v (App ((App ((Var x) (Var x))) (Var v)))))))))))))
	            (App ((Var g) (Var g)))))))))))))
	  (Var fix)))

inferred type:

	(Quant
	 (() All a
	  (Quant
	   (() All b
	    (Fn
	     (()
	      (Fn
	       (() (Fn (() (Var (() b)) (Var (() a))))
	        (Fn (() (Var (() b)) (Var (() a))))))
	      (Fn (() (Var (() b)) (Var (() a))))))))))

Runtime term:

	(App
	 ((Lam (0 () (Var 0)))
	  (App
	   ((Fix Let)
	    (Lam
	     (2 ()
	      (Lam
	       (2 ()
	        (App
	         ((Lam (0 () (App ((Var 0) (Var 0)))))
	          (App
	           ((Fix Let)
	            (Lam
	             (2 ()
	              (Lam
	               (2 ()
	                (App
	                 ((Var 2)
	                  (Lam (1 () (App ((App ((Var 1) (Var 1))) (Var 0)))))))))))))))))))))))

Evaluated:

	(Lam
	 (0
	  ((Lazy
	    (()
	     (App
	      ((Fix Let)
	       (Lam
	        (0 ()
	         (Lam
	          (2 ()
	           (App
	            ((Lam (0 () (App ((Var 0) (Var 0)))))
	             (App
	              ((Fix Let)
	               (Lam
	                (2 ()
	                 (Lam
	                  (2 ()
	                   (App
	                    ((Var 2)
	                     (Lam (1 () (App ((App ((Var 1) (Var 1))) (Var 0))))))))))))))))))))))))
	  (App
	   ((Lam (0 () (App ((Var 0) (Var 0)))))
	    (App
	     ((Fix Let)
	      (Lam
	       (2 ()
	        (Lam
	         (2 ()
	          (App
	           ((Var 2) (Lam (1 () (App ((App ((Var 1) (Var 1))) (Var 0)))))))))))))))))
