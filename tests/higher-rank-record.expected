
Desugared:

	(Let
	 (r
	  (App
	   ((Fix Let)
	    (Lam
	     (r
	      (App
	       ((Fix Record)
	        (Lam ($1 (App ((App ((Update y) EmptyRecord)) (Lam (x (Var x)))))))))))))
	  (Let
	   (f
	    (App
	     ((Fix Let)
	      (Lam
	       (f
	        (App
	         ((WithType
	           (Quant (() All a Unknown (Fn (() (Var (() a)) (Var (() a)))))))
	          (App ((GetField (Strict y)) (Var r)))))))))
	    (App
	     ((Fix Record)
	      (Lam
	       ($0
	        (App
	         ((App
	           ((Update l)
	            (App
	             ((App ((Update k) EmptyRecord))
	              (App ((Var f) (Lam (z (Var z)))))))))
	          (App ((Var f) EmptyRecord))))))))))))

inferred type:

	(Record
	 (() ((k (Fn (() (Var (() a)) (Var (() a))))) (l (Record (() () ())))) ()))

Runtime term:

	(App
	 ((Lam
	   (1 ()
	    (App
	     ((Lam
	       (0 ()
	        (App
	         ((Fix Record)
	          (Lam
	           (1 ()
	            (Record
	             ((k (App ((Var 1) (Lam (0 () (Var 0))))))
	              (l (App ((Var 1) (Record ()))))))))))))
	      (App ((Fix Let) (Lam (1 () (App ((GetField (Strict y)) (Var 1)))))))))))
	  (App
	   ((Fix Let)
	    (Lam
	     (-1 ()
	      (App ((Fix Record) (Lam (0 () (Record ((y (Lam (0 () (Var 0))))))))))))))))

Evaluated:

	(Record ((k (Lam (0 () (Var 0)))) (l (Record ()))))
