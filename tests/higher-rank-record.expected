
Desugared:

	(Let
	 (r
	  (App
	   ((Fix Let)
	    (Lam
	     (r
	      (App
	       ((Fix Record)
	        (Lam
	         ($1
	          (App ((App ((Update (Value y)) EmptyRecord)) (Lam (x (Var x)))))))))))))
	  (Let
	   (f
	    (App
	     ((Fix Let)
	      (Lam
	       (f
	        (App
	         ((WithType (Quant (() All a (Fn (() (Var (() a)) (Var (() a)))))))
	          (App ((GetField (Strict y)) (Var r)))))))))
	    (App
	     ((Fix Record)
	      (Lam
	       ($0
	        (App
	         ((App
	           ((Update (Value l))
	            (App
	             ((App ((Update (Value k)) EmptyRecord))
	              (App ((Var f) (Lam (z (Var z)))))))))
	          (App ((Var f) EmptyRecord))))))))))))

inferred type:

	(Quant
	 (() All a
	  (Quant
	   (() All b
	    (Quant
	     (() All c
	      (Record (r_info ()) (r_types (() () (c)))
	       (r_values
	        (()
	         ((k (Fn (() (Var (() a)) (Var (() a)))))
	          (l
	           (Record (r_info ()) (r_types (() () (b))) (r_values (() () ())))))
	         ())))))))))

Runtime term:

	(App
	 ((Lam
	   (1 ()
	    (App
	     ((Lam
	       (0 ()
	        (App
	         ((Fix Record)
	          (Lam
	           (1 ()
	            (Record
	             ((k (App ((Var 1) (Lam (0 () (Var 0))))))
	              (l (App ((Var 1) (Record ()))))))))))))
	      (App ((Fix Let) (Lam (1 () (App ((GetField (Strict y)) (Var 1)))))))))))
	  (App
	   ((Fix Let)
	    (Lam
	     (-1 ()
	      (App ((Fix Record) (Lam (0 () (Record ((y (Lam (0 () (Var 0))))))))))))))))

Evaluated:

	(Record ((k (Lam (0 () (Var 0)))) (l (Record ()))))
